<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800&display=swap" rel="stylesheet">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brocas</title>
    <link rel="stylesheet" href="brocas.css">
</head>
<body>
    <div class="brocas-container">
        <form class="back-button" action="menu.html">
            <button class="back-button">&lt;</button>
        </form>
        <header>
            <div class="blue-bar">
                <h1>Brocas</h1>
            </div>         
            <div class="search-container">
                <input type="text" placeholder="Digite o código ou especificações" id="brocaSearchInput">
                <div id="suggestions" class="suggestions-list"></div>
                <a href="#modal2" class="add-button modal-trigger" data-target="modal2">Gestão</a>
            </div>
        </header>
        <section class="info-section">
            <h2>Informações de Estoque</h2>
            <div class="stock-info">
                <div class="stock-item">
                    <span>Estoque geral</span>
                    <span>350</span>
                </div>
                <div class="stock-item">
                    <span>Brocas novas</span>
                    <span>100</span>
                </div>
                <div class="stock-item">
                    <span>Brocas usadas</span>
                    <span>175</span>
                </div>
                <div class="stock-item">
                    <span>Brocas em afiação</span>
                    <span>75</span>
                </div>
            </div>
            <a href="#modal1" class="sharpen-button modal-trigger" data-target="modal1">Afiação</a>
        </section>
        <section class="drill-list">
            <h2>Lista de Brocas</h2>
            <ul></ul>
        </section>
    </div>
    <div class="pedrao-top">
        <p>Pedro Peruzzo - Projeto Integrador 2024</p>
    </div>
    <!-- Pop-up genérico para exibir as informações completas -->
    <div id="popup-info" class="popup">
        <div class="popup-content">
            <span class="close" onclick="fecharPopUp()">&times;</span>
            <h2>Informações da broca <span id="broca-id"></span></h2>
            <div class="info-pair"><span class="info-label">Diâmetro:</span><span id="broca-diametro"></span></div>
            <div class="info-pair"><span class="info-label">Comprimento:</span><span id="broca-comprimento"></span></div>
            <div class="info-pair"><span class="info-label">ID Sucessor:</span><span id="broca-IDsuucessor"></span></div>
            <div class="info-pair"><span class="info-label">Comprimento Sucessor:</span><span id="broca-comprimentoSucessor"></span></div>
            <div class="info-pair"><span class="info-label">Adicionada em:</span><span id="broca-data"></span></div>
            <div class="info-pair"><span class="info-label">Número de Afiações:</span><span id="broca-numeroAfiacoes"></span></div>
            <div class="info-pair"><span class="info-label">Tipo:</span><span id="broca-tipo"></span></div>
            <div class="info-pair"><span class="info-label">Quantidade:</span><span id="broca-quantidade"></span></div>
        </div>
    </div>
    <!-- Carregar scripts do Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.0/firebase-database.js"></script>
    <script>
        // Inicialize o Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBW_RispdaG5tRPplcb31JhardrgnuC4NM",
            authDomain: "ideal-software-database.firebaseapp.com",
            databaseURL: "https://ideal-software-database-default-rtdb.firebaseio.com",
            projectId: "ideal-software-database",
            storageBucket: "ideal-software-database.appspot.com",
            messagingSenderId: "1072110619447",
            appId: "1:1072110619447:web:46418003ebee4b7a54a8b2"
        };
        firebase.initializeApp(firebaseConfig);
    </script>
    <!-- Carregar seu script -->
    <script src="dadosholyshitmano.js"></script>
    
    <!-- Modal 1 -->
    <div id="modal1" class="modal">
        <div class="modal-content">
            <a href="#" class="close">×</a>
            <h2>Selecione as Brocas</h2>
            <div class="search-container">
                <input type="text" placeholder="Digite o código ou especificações">
                <img src="lupa.png" alt="Buscar" class="search-icon">
            </div>
            <ul></ul>
            <form action="maquina.html">
                <button type="submit" class="ok-button">OK</button>
            </form>
        </div>
    </div>
    
    <!-- Modal 2 -->
    <div id="modal2" class="modal-custom">
        <div class="modal-content-custom">
            <a href="#" class="close-custom">×</a>
            <div class="tab-container-custom">
                <input type="radio" id="add" name="tab">
                <a href="#" class="permanent-green modal-trigger" data-target="modal3">Adicionar</a>
                <input type="radio" id="edit" name="tab">
                <label for="edit">Editar</label>
                <input type="radio" id="delete" name="tab">
                <label for="delete">Deletar</label>
            </div>
            <div class="search-container-custom">
                <input type="text" placeholder="Digite o código ou especificações">
                <img src="lupa.png" alt="Buscar" class="search-icon-custom">
            </div>
            <ul class="checkbox-list"></ul>
            <!-- Elemento para inserir o botão OK -->
            <div id="ok-button-container"></div>
        </div>
    </div>
    
    <!-- Modal 3 -->
    <div id="modal3" class="modal-custom3">
        <div class="modal-content-custom3">
            <a href="#" class="close-custom3">×</a>
            <h2>Adicionar Nova Broca</h2>
            <form id="adicionarBrocaForm" onsubmit="adicionarBroca(event)">
                <!-- Campos do formulário -->
                <div class="input-container-inline-custom">
                    <div class="input-item-custom id-input">
                        <label for="id">ID:</label>
                        <input type="text" id="id" name="id" placeholder="ID" onblur="addHashAndValidateID(this)" maxlength="4">
                    </div>
                    <div class="input-item-custom quantity-input">
                        <label for="quantity">Quantidade:</label>
                        <input type="number" id="quantity" name="quantity" value="1" min="1" class="small-quantity">
                    </div>
                </div>
                <label for="diameter">Diâmetro:</label>
                <div class="input-container-custom">
                    <input type="text" id="diameter" name="diameter" placeholder="Digite o diâmetro" onblur="formatDiameter(this)" oninput="clearFormat(this, 'Digite o diâmetro')">
                </div>
                <label for="length">Comprimento:</label>
                <div class="input-container-custom">
                    <input type="text" id="length" name="length" placeholder="Digite o comprimento" onblur="formatLength(this)" oninput="clearFormat(this, 'Digite o comprimento')">
                </div>
                <div class="input-container-inline-custom">
                    <div class="input-item-custom sucessor-id-input">
                        <label for="IDsuucessor">ID Sucessor:
                            <span class="tooltip">?<span class="tooltiptext">O ID Sucessor é o novo ID após alterações no comprimento da broca.</span></span>
                        </label>
                        <input type="text" id="IDsuucessor" name="IDsuucessor" placeholder="Digite o ID Sucessor" maxlength="4">
                    </div>
                    <div class="input-item-custom sucessor-length-input">
                            <label for="successor-length">Comprimento Sucessor:</label>
                            <input type="text" id="successor-length" name="successor-length" placeholder="Digite o comprimento" onblur="formatLength(this)" oninput="clearFormat(this, 'Digite o comprimento')">
                        </div>
                    </div>
                    <label for="type">Tipo de Broca:</label>
                    <select id="type" name="type">
                        <option value="" disabled selected>Selecione o tipo de broca</option>
                        <option value="Brocas MD (metal duro)">Brocas MD (metal duro)</option>
                        <option value="Brocas de centro">Brocas de centro</option>
                        <option value="Fresas de topo">Fresas de topo</option>
                        <option value="Brocas intercambiáveis">Brocas intercambiáveis</option>
                    </select>
                    <button type="submit" class="submit-button-custom">Adicionar</button>
                </form>
            </div>
        </div>
    </body>
    </html>
    